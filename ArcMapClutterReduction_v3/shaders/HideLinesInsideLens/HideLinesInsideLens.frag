#version 330 compatibility


////////////////////////////////////////////////////////////////////////////////////////////////////
// Input from geometry shader
////////////////////////////////////////////////////////////////////////////////////////////////////
uniform vec2 centerPos;
uniform float lensDiameter;
//uniform float earthCenterDepth;


////////////////////////////////////////////////////////////////////////////////////////////////////
// Output to frame buffer
////////////////////////////////////////////////////////////////////////////////////////////////////

layout (location = 0) out vec4 v_color;


////////////////////////////////////////////////////////////////////////////////////////////////////
// Fragment shader
////////////////////////////////////////////////////////////////////////////////////////////////////

void main(void)
{

 vec2 direction = abs(gl_FragCoord.xy - centerPos.xy);
float distance = length(direction.xy);

if(distance<lensDiameter/2){
    v_color = vec4(0.0, 0.0, 0.0,0.0);
   }else{
    v_color =  vec4(gl_Color.xyz,1.0);
    
   // v_color =  gl_Color;
   }
  
 // 	gl_FragDepth = 0.0; 
   
    
}
